(function(){"use strict";var t={6402:function(t,e,n){var a=n(5130),s=n(6768);const r={class:"container with-nav"};function o(t,e,n,a,o,l){const i=(0,s.g2)("the-navbar"),u=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(i,{appTitle:o.appTitle},null,8,["appTitle"]),(0,s.Lk)("div",r,[(0,s.bF)(u)])],64)}var l=n(4232);const i={class:"navbar"},u={class:"navbar-menu"};function c(t,e,n,a,r,o){const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("header",i,[(0,s.Lk)("h3",null,(0,l.v_)(n.appTitle),1),(0,s.Lk)("ul",u,[(0,s.Lk)("li",null,[(0,s.bF)(c,{to:"/tasks"},{default:(0,s.k6)((()=>e[0]||(e[0]=[(0,s.eW)("Все задачи")]))),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(c,{to:"/new"},{default:(0,s.k6)((()=>e[1]||(e[1]=[(0,s.eW)("Создать")]))),_:1})])])])}var p={props:["appTitle"]},d=n(1241);const k=(0,d.A)(p,[["render",c]]);var v=k,f={data(){return{appTitle:"Freelance"}},components:{TheNavbar:v}};const g=(0,d.A)(f,[["render",o]]);var h=g,b=n(1387);const m={key:0,class:"text-white center"},y={class:"text-white"},L={class:"card-title"},C=["onClick"];function w(t,e,n,a,r,o){const i=(0,s.g2)("AppStatus");return 0===a.tasks.length?((0,s.uX)(),(0,s.CE)("h1",m,"Задач пока нет")):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.Lk)("h3",y,"Всего активных задач: "+(0,l.v_)(a.activeTasksCount),1),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.tasks,(t=>((0,s.uX)(),(0,s.CE)("div",{class:"card",key:t.id},[(0,s.Lk)("h2",L,[(0,s.eW)((0,l.v_)(t.title)+" ",1),(0,s.bF)(i,{type:t.status},null,8,["type"])]),(0,s.Lk)("p",null,[(0,s.Lk)("strong",null,[(0,s.Lk)("small",null,(0,l.v_)((new Date).toLocaleDateString()),1)])]),(0,s.Lk)("button",{class:"btn primary",onClick:e=>a.open(t.id)},"Посмотреть",8,C)])))),128))],64))}n(4114);var T=n(782);function S(t,e,n,a,r,o){return(0,s.uX)(),(0,s.CE)("span",{class:(0,l.C4)(["badge",a.className])},(0,l.v_)(a.text),3)}var _=n(144),E={props:{type:{type:String,validator(t){return["active","done","pending","cancelled"].includes(t)}}},setup(t){const e={active:"primary",cancelled:"danger",done:"primary",pending:"warning"},n={active:"Активен",cancelled:"Отменен",done:"Завершен",pending:"Выполняется"},a=(0,_.KR)(e[t.type]),r=(0,_.KR)(n[t.type]);return(0,s.wB)(t,(t=>{a.value=e[t.type],r.value=n[t.type]})),{className:a,text:r}}};const x=(0,d.A)(E,[["render",S]]);var O=x,A={components:{AppStatus:O},setup(){const t=(0,T.Pj)(),e=(0,b.rd)(),n=(0,s.EW)((()=>t.getters.tasks)),a=(0,s.EW)((()=>t.getters.activeTasksCount));return{tasks:n,activeTasksCount:a,open:t=>e.push(`/task/${t}`)}}};const W=(0,d.A)(A,[["render",w]]);var F=W;const X={key:0,class:"card"},j={key:1,class:"text-white center"};function K(t,e,n,a,r,o){const i=(0,s.g2)("AppStatus");return a.task?((0,s.uX)(),(0,s.CE)("div",X,[(0,s.Lk)("h2",null,(0,l.v_)(a.task.title),1),(0,s.Lk)("p",null,[e[3]||(e[3]=(0,s.Lk)("strong",null,"Статус",-1)),e[4]||(e[4]=(0,s.eW)(": ")),(0,s.bF)(i,{type:a.task.status},null,8,["type"])]),(0,s.Lk)("p",null,[e[5]||(e[5]=(0,s.Lk)("strong",null,"Дэдлайн",-1)),(0,s.eW)(": "+(0,l.v_)((new Date).toLocaleDateString()),1)]),(0,s.Lk)("p",null,[e[6]||(e[6]=(0,s.Lk)("strong",null,"Описание",-1)),(0,s.eW)(": "+(0,l.v_)(a.task.description),1)]),(0,s.Lk)("div",null,[(0,s.Lk)("button",{class:"btn",onClick:e[0]||(e[0]=t=>a.setStatus("pending"))},"Взять в работу"),(0,s.Lk)("button",{class:"btn primary",onClick:e[1]||(e[1]=t=>a.setStatus("done"))},"Завершить"),(0,s.Lk)("button",{class:"btn danger",onClick:e[2]||(e[2]=t=>a.setStatus("cancelled"))},"Отменить")])])):((0,s.uX)(),(0,s.CE)("h3",j,[e[7]||(e[7]=(0,s.eW)(" Задачи с id = ")),(0,s.Lk)("strong",null,(0,l.v_)(a.idd.value),1),e[8]||(e[8]=(0,s.eW)(" нет. "))]))}var D={components:{AppStatus:O},props:["id"],setup(t){const e=(0,T.Pj)(),n=(0,_.KR)(t.id),a=(0,s.EW)((()=>e.getters.taskById(n.value))),r=t=>{const n={...a.value,status:t};e.dispatch("changeTask",n)};return{task:a,idd:n,setStatus:r}}};const I=(0,d.A)(D,[["render",K]]);var N=I;const J={class:"form-control"},R={class:"form-control"},P={class:"form-control"},V=["disable"];function B(t,e,n,r,o,l){return(0,s.uX)(),(0,s.CE)("form",{class:"card",onSubmit:e[3]||(e[3]=(0,a.D$)(((...t)=>r.submit&&r.submit(...t)),["prevent"]))},[e[7]||(e[7]=(0,s.Lk)("h1",null,"Создать новую задачу",-1)),(0,s.Lk)("div",J,[e[4]||(e[4]=(0,s.Lk)("label",{for:"title"},"Название",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=t=>r.title=t)},null,512),[[a.Jo,r.title]])]),(0,s.Lk)("div",R,[e[5]||(e[5]=(0,s.Lk)("label",{for:"date"},"Дата дэдлайна",-1)),(0,s.bo)((0,s.Lk)("input",{type:"date",id:"date","onUpdate:modelValue":e[1]||(e[1]=t=>r.date=t)},null,512),[[a.Jo,r.date]])]),(0,s.Lk)("div",P,[e[6]||(e[6]=(0,s.Lk)("label",{for:"description"},"Описание",-1)),(0,s.bo)((0,s.Lk)("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=t=>r.description=t)},null,512),[[a.Jo,r.description]])]),(0,s.Lk)("button",{class:"btn primary",disable:!r.isValid},"Создать",8,V)],32)}var U={setup(){const t=(0,T.Pj)(),e=(0,b.rd)(),n=(0,_.KR)(""),a=(0,_.KR)(null),r=(0,_.KR)(""),o=()=>{const s={id:Date.now().toString(),title:n.value,date:new Date(a.value).setHours(23,59,59,999),description:r.value,status:"active"};t.dispatch("createTask",s),e.push("/")},l=(0,s.EW)((()=>""!==n.value&&""!==a.value&&""!==r.value));return{isValid:l,submit:o,title:n,date:a,description:r}}};const $=(0,d.A)(U,[["render",B]]);var H=$,M=(0,b.aE)({history:(0,b.LA)(),routes:[{path:"/tasks",component:F,name:"Tasks",alias:"/"},{path:"/task/:id",component:N,props:!0,name:"Task"},{path:"/new",component:H,name:"New"}],linkActiveClass:"active",linkExactActiveClass:"active"}),q=(0,T.y$)({state(){let t=[];try{const e=localStorage.getItem("my-tasks");t=e?JSON.parse(e):[]}catch(e){console.log()}return{tasks:t}},getters:{activeTasksCount(t){return t.tasks.filter((t=>"active"===t.status)).length},tasks(t){return t.tasks},taskById(t,e){return t=>e.tasks.find((e=>e.id===t))}},mutations:{createTask(t,e){t.tasks.push(e),localStorage.setItem("my-tasks",JSON.stringify(t.tasks))},changeTask(t,e){const n=t.tasks.findIndex((t=>t.id===e.id));t.tasks[n]=e,localStorage.setItem("my-tasks",JSON.stringify(t.task))}},actions:{createTask({commit:t},e){e.date<new Date&&(e.status="cancelled"),t("createTask",e)},changeTask({commit:t},e){t("changeTask",e)}}});(0,a.Ef)(h).use(q).use(M).mount("#app")}},e={};function n(a){var s=e[a];if(void 0!==s)return s.exports;var r=e[a]={exports:{}};return t[a].call(r.exports,r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,a,s,r){if(!a){var o=1/0;for(c=0;c<t.length;c++){a=t[c][0],s=t[c][1],r=t[c][2];for(var l=!0,i=0;i<a.length;i++)(!1&r||o>=r)&&Object.keys(n.O).every((function(t){return n.O[t](a[i])}))?a.splice(i--,1):(l=!1,r<o&&(o=r));if(l){t.splice(c--,1);var u=s();void 0!==u&&(e=u)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[a,s,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,r,o=a[0],l=a[1],i=a[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(s in l)n.o(l,s)&&(n.m[s]=l[s]);if(i)var c=i(n)}for(e&&e(a);u<o.length;u++)r=o[u],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(c)},a=self["webpackChunkvue_practice_three_forghpages"]=self["webpackChunkvue_practice_three_forghpages"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(6402)}));a=n.O(a)})();
//# sourceMappingURL=app.a51a471f.js.map